# ğŸ’» PC.GG ğŸ’»
<b>PC.GG</b>ëŠ” ìš©ë„, ì˜ˆì‚° ë“±ì„ ê³ ë ¤í•œ <b>ì‚¬ìš©ì ë§ì¶¤í˜• ì¡°ë¦½PC</b> ê²¬ì ì„ ì¶”ì²œí•´ì£¼ë©° ì‚¬ìš©ì ë¦¬ë·°ë°ì´í„° ê¸°ë°˜ìœ¼ë¡œ <b>ì£¼ë³€ê¸°ê¸°ë¥¼ ì¶”ì²œ</b>í•´ì£¼ëŠ” ì›¹ ì‚¬ì´íŠ¸ì…ë‹ˆë‹¤.

## ğŸŒˆ TEAM ë¬´ì§€ê°œë°œ
ì €í¬ <b>ë¬´ì§€ê°œë°œ</b> íŒ€ì€ ì´ë ‡ê²Œ í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•˜ê³  ìˆì–´ìš”!
- ë§¤ì¼ ì•„ì¹¨ <b>ìŠ¤í¬ëŸ¼ íšŒì˜</b>ë¥¼ í†µí•´ íŒ€ì›ê°„ ê°œë°œ ì§„í–‰ ìƒí™© ê³µìœ 
- Git branch ì „ëµ ë° commit convention ìˆ˜ë¦½
    - ë°°í¬ëŠ” `backend`, `frontend` ë¸Œëœì¹˜ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì§„í–‰
      - ì¶”í›„ `crawling`, `recommend` ë¸Œëœì¹˜(ê°€ì œ) ì¶”ê°€ ì˜ˆì •
    - ë°±ì—”ë“œì™€ í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œì€ ê°ê° backend, frontend ë¸Œëœì¹˜ì—ì„œ 'feat/ê¸°ëŠ¥ëª…'ì´ë¦„ìœ¼ë¡œ ìƒˆë¡œìš´ ë¸Œëœì¹˜ ìƒì„± í›„ ê°œë°œ
    - ì½”ë“œ ë³‘í•©ì‹œ merge requestë¥¼ ë¨¼ì € ì§„í–‰
    - 2ëª… ì´ìƒì˜ íŒ€ì›ì´ reviewerë¡œì¨ ì½”ë“œ ë¦¬ë·°
    - ë¦¬í€˜ìŠ¤íŠ¸ ìš”ì²­ìëŠ”ëŠ” í”¼ë“œë°± ì‚¬í•­ ìˆ˜ì •
    - approveë¥¼ í•˜ê²Œ ë˜ë©´ ìµœì¢…ì ìœ¼ë¡œ ì‘ì„±ì ë³¸ì¸ì´ merge
    - [ë¬´ì§€ê°œë°œ Notion - Git Convention](https://www.notion.so/Git-Convention-d854c0488fdb4955a09f0dd4c750e192)
    - [ë¬´ì§€ê°œë°œ Notion - Merge Request Convention](https://www.notion.so/Merge-Request-Convention-e36cf62061e34b69940b068630c2c4b2)
- <b>ê¸°ë¡í•˜ê¸°</b>
    - ê°ì í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•˜ë©´ì„œ í•™ìŠµí•œ ë‚´ìš©ì„ íŒ€ ë…¸ì…˜ì— ì‘ì„±í•˜ì—¬ ê³µìœ 
    - [ë¬´ì§€ê°œë°œ Notion ë°”ë¡œê°€ê¸°](https://www.notion.so/Home-D206-da0cdf812e1244e7b990d1951ded90d2)

## ğŸ“Œ ì£¼ìš” ê¸°ëŠ¥

[ë¬´ì§€ê°œë°œ Notion - ìš”êµ¬ì‚¬í•­&ê¸°ëŠ¥ëª…ì„¸](https://www.notion.so/0a7d57d857b54a33ad8d3420ffd2e4ed)

#### ìœ ì € ê´€ë ¨ 
- íšŒì›ê°€ì…, ë¡œê·¸ì¸, ë§ˆì´í˜ì´ì§€ì™€ ê°™ì€ ìœ ì €ê´€ë ¨ ê¸°ëŠ¥
#### ì¡°ë¦½PC ê²¬ì ì¶”ì²œ
- ì›í•˜ëŠ” ìŠ¤í™(ìš©ë„, ì˜ˆì‚° ë“±)ì„ ì…ë ¥í•˜ë©´ í˜¸í™˜ì„±, ì„±ëŠ¥ ë“±ì„ ê³ ë ¤í•˜ì—¬ ì¡°ë¦½PC ê²¬ì  ìƒì„±í›„ ì¶”ì²œ
#### ì‹œë®¬ë ˆì´ì…˜ ê¸°ëŠ¥(ë¶€í’ˆ í˜¸í™˜ì„± ì²´í¬) 
- ë¶€í’ˆ ì„¸íŠ¸ë¥¼ ì…ë ¥í•˜ë©´ í˜¸í™˜ì„±ì„ ì²´í¬
#### ì£¼ë³€ê¸°ê¸° ì¶”ì²œ 
- ì‚¬ìš©ì ë¦¬ë·° ë°ì´í„°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì¶”ì²œ ì•Œê³ ë¦¬ì¦˜ì„ í†µí•´ ì£¼ë³€ê¸°ê¸° ì¶”ì²œ
#### ì¤‘ê³ ê±°ë˜ 
- ì¤‘ê³ ê±°ë˜ë¥¼ í•  ìˆ˜ ìˆëŠ” ê²Œì‹œíŒ
####  ê³µìœ ë§ˆë‹¹ 
- ì‚¬ìš©ìê°„ ê²¬ì ì„ ê³µìœ  í•  ìˆ˜ ìˆëŠ” ì»¤ë®¤ë‹ˆí‹° ê²Œì‹œíŒ. ë§ˆì´í˜ì´ì§€, ì‹œë®¬ë ˆì´ì…˜ê³¼ ì—°ë™ë¨

## âš™ï¸ ê¸°ìˆ ìŠ¤íƒ
- `Frontend` - Vue
- `Backend` - Java, Springboot, Spring Security, Swagger, Gradle
- `DB` - MySQL, Redis
- `Crawling`, `Data analysis` -  Python, Django, Selenium
- `Deploy` - AWS EC2, S3, Nginx, Jenkins, Docker, Spring Cloud, Gateway, Eureka
- `Cooperation` - Jira, GitLab, Mattermost, Notion, Figma, ERDCloud

## ğŸ“ˆ ERD
![PC.GG](/uploads/c4588bd7e9a8a83136e7ceaf34d4c42d/PC.GG.png)

## ğŸ”Œì•„í‚¤í…ì²˜
![ì•„í‚¤í…ì²˜](/uploads/491a90642fcc04d8cb048446b38cc916/ì•„í‚¤í…ì²˜.png)

## ğŸ“… ì¼ì •
- ê¸°íš: 2023.08.28 ~ 2023.09.01 (1ì£¼)
- ê°œë°œ: 2023.09.04 ~ ing

## ğŸ‘ª íŒ€ì› ë° ì—­í• 
<table>
  <tbody>
    <tr>
      <td align="center"><a href="https://lab.ssafy.com/eorms96"><img src="https://secure.gravatar.com/avatar/d2abf68ca33213685faa6c92a097f27b?s=192&d=identicon" width="100px" alt=""/><br /><sub><b>BE íŒ€ì¥ : ì´ëŒ€ê·¼</b><br /><b>DB / PCê²¬ì ì¶”ì²œ</b></sub></a><br /></td>
      <td align="center"><a href="https://lab.ssafy.com/ickyu777"><img src="https://secure.gravatar.com/avatar/cbfde9ced5f31bbf2e2c78bc12373d39?s=192&d=identicon" width="100px" alt=""/><br /><sub><b>BE íŒ€ì› : ê³µìµê·œ</b><br /><b>{ì—­í• } </b></sub></a></td>
      <td align="center"><a href="https://lab.ssafy.com/ninth6764"><img src="https://secure.gravatar.com/avatar/f7f2e3c4798ce5d866d7ac74f214cab7?s=192&d=identicon" width="100px" alt=""/><br /><sub><b>FE íŒ€ì› : êµ¬ë³¸ì¬</b><br /><b>{ì—­í• }</b></sub></a><br /></td>
      <td align="center"><a href="https://lab.ssafy.com/thdl9893"><img src="https://secure.gravatar.com/avatar/1dd3239aff334f6cbfaecacf92108958?s=192&d=identicon" width="100px" alt=""/><br /><sub><b>BE íŒ€ì› : ê¹€ì†Œì´</b><br /><b>ì£¼ë³€ê¸°ê¸°ì¶”ì²œ/ ê³µìœ ë§ˆë‹¹</b></sub></a><br /></td>
     <tr/>
      <td align="center"><a href="https://lab.ssafy.com/poi1229"><img src="https://secure.gravatar.com/avatar/2f2f0289c3a6be08891f7aa080d47ca7?s=192&d=identicon" width="100px" alt=""/><br /><sub><b>FE íŒ€ì› : ë¥˜ì„±í•˜</b><br /><b>ì£¼ë³€ê¸°ê¸°/ ì‹œë®¬ë ˆì´ì…˜ í˜ì´ì§€</b></sub></a><br /></td>
      <td align="center"><a href="https://lab.ssafy.com/wnddnjs843"><img src="https://secure.gravatar.com/avatar/5a2d393458ff42eefa2d0a544d8a55e5?s=192&d=identicon" width="100px" alt=""/><br /><sub><b>BE,FE íŒ€ì› : ì¥ì¤‘ì›</b><br /><b>JWT ì¸ì¦</b></sub></a><br /></td>
      <td align="center"><a href="https://lab.ssafy.com/ischar"><img src="https://secure.gravatar.com/avatar/d9939c7c2ac8a72ca0161df2dd6be413?s=192&d=identicon" width="100px" alt=""/><br /><sub><b>BE,FE íŒ€ì› : ì°¨ì¬í˜¸</b><br /><b>ì¸í”„ë¼/ ì¤‘ê³ ê±°ë˜</b></sub></a><br /></td>
    </tr>
  </tbody>
</table>

## ğŸ“« ë°°í¬ ë‚´ìš©
#### Nginx
- ì„¤ì¹˜
```
# nginx ë„ì»¤ ì´ë¯¸ì§€ ë°›ê¸°
docker pull nginx

# nginx ì»¨í…Œì´ë„ˆ ë§Œë“¤ê³  ì‹¤í–‰í•˜ê¸° 
docker run --name reverse-proxy -p 8082:22 -p 80:80 -p 443:443 -d nginx:latest 
``` 
- default.conf
```
server {
        listen 443 ssl default_server;
        listen [::]:443 ssl default_server;

        ssl_certificate /etc/ssl/full_chain.crt;
        ssl_certificate_key /etc/ssl/private.key;

        server_name pcgg.kro.kr;

        location / {
								# vue.js ê²½ë¡œ
                root /var/www/dist;
                index index.html index.htm;
        }

        location /api {
                proxy_set_header Host $host;
                proxy_set_header X-Real-IP $remote_addr;
                proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
                proxy_pass http://pcgg.kro.kr:8001/api;


        }
}

server {
        listen 80;
        server_name pcgg.kro.kr;

        location / {
                return 301 https://$server_name$request_uri;
        }

}
```
#### Jenkins
```
# 8080ë²ˆ í¬íŠ¸ í—ˆìš©
sudo ufw allow 8080

# ì  í‚¨ìŠ¤ ë„ì»¤ ì´ë¯¸ì§€ ë°›ê¸°
sudo docker pull jenkins/jenkins:lts

# ì  í‚¨ìŠ¤ ì»¨í…Œì´ë„ˆ ë§Œë“¤ê³  ì‹¤í–‰
sudo docker run --privileged -d -p 8080:8080 -p 50000:50000 --name jenkins jenkins/jenkins:lts

# ì  í‚¨ìŠ¤ ì´ˆê¸° ê´€ë¦¬ì ë¹„ë°€ë²ˆí˜¸ í™•ì¸
sudo docker exec -it jenkins /bin/bash
cat /var/jenkins_home/secrets/initialAdminPassword
```
#### Spring Cloud Gateway
```
pipeline {
    agent any

    tools {
        jdk 'jdk-17'
        gradle 'gradle 8.2.1'
    }
    environment {
        // build info
        BACKEND_BUILD_PATH = '/var/jenkins_home/workspace/jenkins-gateway/gateway' // jar íŒŒì¼ì„ ë¹Œë“œí•  ê²½ë¡œ
        JAR_FILE_NAME = 'server'

        // gitlab
        CLONE_URL = 'https://lab.ssafy.com/s09-bigdata-recom-sub2/S09P22D206'
        TARGET_BRANCH = 'gateway'
        GITLAB_CREDENTIAL = 'jenkins-login'
        
				// host machine info
        USER_NAME = 'ubuntu' // í˜¸ìŠ¤íŠ¸ ë¨¸ì‹ ì˜ ìœ ì €
        PUBLIC_IP = '172.26.3.182' // í˜¸ìŠ¤íŠ¸ ë¨¸ì‹ ì˜ ì™¸ë¶€ IP
        PORT_NUMBER = '8000' // ì»¨í…Œì´ë„ˆ ë‚´ë¶€ì˜ í¬íŠ¸ë²ˆí˜¸ì™€ ë§¤í•‘í•  host ë¨¸ì‹ ì˜ í¬íŠ¸ë²ˆí˜¸
        SSH_KEY = 'ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQDllP3eitSeEiauVucdYVgmIbdfLlUdM7j1xcPQgMPcB0kkqszg621iTlTllloA634A9u69vCcU64aaHgjeZ3uyL8qif+MLw/0AWEuHsBBS3XOo8FV7wn3po+v0M8wA5xjxPGLoDk+3SlEC8EbxuJhRZ9Cct53/e0AZPPtNgOIgZ096hjiSQI8JG7LZxY2GXpuwkthd3d/UwmOnACwp0oWe/9FhmGqJGD7le/molZkMHsTyeGHvkURZ6bjzU34N7wQVUGSMDtVaKL5F/P5Efs+atyIbyZfGd7l5pjHqB5h2Zrs0v6cdFVSJ1MPi1A28ke+mahhJehQIpxPmE4BFXsXIKch2K4VCwZm53pE9ZMKGCVOwvAtk8A6jK5wta20GHF2JfJT3GlYD8njUqQZd0cbGcBWgyVvb8VEJdlwI9DEwOvEjnavyX7T8D97cz7O8zstxbt7GeWvQvtgItGnMs6vgX5rXNKchihU0v0sYfcsjL6tGsD7m+G8G5jQ2mDiY4JU= ubuntu@ip-172-26-3-182'

        // docker info
        BACKEND_BUILD_IMAGE_NAME = 'pcgg-backend-gateway'
        TAG_NAME = 'latest'
        BACKEND_CONTAINER_NAME = 'backend-gateway'
        BACKEND_CONTAINER_PORT_NUMBER = 8001

        // mattermost info
        END_POINT = 'https://meeting.ssafy.com/hooks/mux5zm9a83878daynwqms8ddty'
        CHANNEL = '#gw--jenkins'
    }

    stages {

        stage('Prepare') { // ì €ì¥ì†Œë¡œë¶€í„° cloneí•˜ëŠ” ë‹¨ê³„
            steps {
                echo 'Cloning Repository'
                git credentialsId: GITLAB_CREDENTIAL,
                url: CLONE_URL,
                branch: TARGET_BRANCH
            }
            post {
                success {
                    echo 'Successfully Cloned Repository'
                }
                failure {
                    error 'This pipeline stops here...'
                }
            }
        }

        stage('Dowload application.yml') {
            steps {
                echo 'Download application.yml'
                withCredentials([file(credentialsId: 'secret-gateway', variable: 'SpringConfigFile')]) {
                    script {
                        sh '''
                        sudo cp $SpringConfigFile gateway/src/main/resources/application.yml
                        '''
                    }
                }
            }
        }

        stage('Build') { // jar íŒŒì¼ì„ ë¹Œë“œí•˜ëŠ” ë‹¨ê³„ 
            steps {
                sh  '''
                    echo "Build gateway"
                    cd gateway
                    sudo su
                    chmod +x gradlew
                    sudo ./gradlew clean build -x test

                '''
            }
            post {
                success {
                    echo 'Successfully Build Server'
                }
                failure {
                    error 'This pipeline stops here...'
                }
            }
        }

        stage('Send Build') { // Build íŒŒì¼ë“¤ì„ ìš°ë¶„íˆ¬(EC2)ë¡œ ì „ì†¡í•˜ëŠ” ë‹¨ê³„ 
            steps {
                sshPublisher(publishers: [sshPublisherDesc(configName: 'ubuntu', transfers: [sshTransfer(cleanRemote: false, excludes: '', execCommand: ' ', execTimeout: 120000, flatten: false, makeEmptyDirs: false, noDefaultExcludes: false, patternSeparator: '[, ]+', remoteDirectory: '/remote/gateway/', remoteDirectorySDF: false, removePrefix: 'gateway/build/libs', sourceFiles: 'gateway/build/libs/pcgg-0.0.1-SNAPSHOT.jar')], usePromotionTimestamp: false, useWorkspaceInPromotion: false, verbose: false)])
            }
            
            post {
                success {
                    echo 'Successfully Send Build'
                }
                failure {
                    error 'This pipeline stops here...'
                }
            }
        }

        stage('Build Docker & Run') { // Dockerfileì„ ë¹Œë“œí•˜ì—¬ docker ì´ë¯¸ì§€ë¥¼ ìƒì„±í•˜ê³  ì‹¤í–‰í•˜ëŠ” ë‹¨ê³„
            steps {
                echo 'Build Docker'
                sshagent(credentials: ['ubuntu']) {
                    script {
                    // ìš°ë¶„íˆ¬(EC2)ì—ì„œ ì‹¤í–‰í•  command ìŠ¤í¬ë¦½íŠ¸
                    // 1. ë¹Œë“œ íŒŒì¼ ì „ì†¡
                    // 2. ë¹Œë“œ íŒŒì¼ì„ ì´ìš©í•´ Docker ì´ë¯¸ì§€ ìƒì„±
                    // 3. ìš°ë¶„íˆ¬(EC2)ì—ì„œ ì‹¤í–‰ì‹œí‚¬ ì»¨í…Œì´ë„ˆì˜ ì´ë¦„ê³¼ ë™ì¼í•œ ì»¨í…Œì´ë„ˆê°€ ìˆë‹¤ë©´ ê·¸ ì»¨í…Œì´ë„ˆë¥¼ ì¢…ë£Œí•˜ê³  ì‚­ì œ
                    // 4. Docker ì´ë¯¸ì§€ë¥¼ ì„¤ì •í•œ ì»¨í…Œì´ë„ˆì´ë¦„ìœ¼ë¡œ ì‹¤í–‰
                    def sshCommand = """
                        set -e
                        if sudo docker ps -a --filter name=${BACKEND_CONTAINER_NAME} | grep -q .; then
                            sudo docker stop ${BACKEND_CONTAINER_NAME} || true
                            sudo docker rm ${BACKEND_CONTAINER_NAME} || true
                            sudo docker rmi ${BACKEND_BUILD_IMAGE_NAME} || true

                        fi
                        cd remote/gateway
                        sudo docker build -t ${BACKEND_BUILD_IMAGE_NAME} .
                        sudo docker run -d --name ${BACKEND_CONTAINER_NAME} -p ${BACKEND_CONTAINER_PORT_NUMBER}:${BACKEND_CONTAINER_PORT_NUMBER} ${BACKEND_BUILD_IMAGE_NAME}
                    """

                    def remoteScriptFile = 'remote_script.sh' // ìŠ¤í¬ë¦½íŠ¸ íŒŒì¼ ëª…
                    writeFile file: remoteScriptFile, text: sshCommand // ìŠ¤í¬ë¦½íŠ¸ íŒŒì¼ ìƒì„±
                    sh "chmod +x ${remoteScriptFile}" // ìŠ¤í¬ë¦½íŠ¸ íŒŒì¼ì— ì‹¤í–‰ ê¶Œí•œ ì£¼ê¸°

                    // ì›ê²©ì‹¤í–‰ ì»¤ë©˜ë“œ(scp : íŒŒì¼ì „ì†¡ í”„ë¡œí† ì½œ(ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì „ì†¡) & ssh : ë°°í¬ì„œë²„ì— ì›ê²©ìœ¼ë¡œ ì ‘ì†í•˜ê¸° ìœ„í•œ ëª…ë ¹ì–´ & sm : ìŠ¤í¬ë¦½íŠ¸ ì‚­ì œ ëª…ë ¹ì–´(ì¤‘ë³µ ì œê±°ë¥¼ ìœ„í•œ ëª…ë ¹ì–´))
                    def remoteCommand = "scp -o StrictHostKeyChecking=no ${remoteScriptFile} ${USER_NAME}@${PUBLIC_IP}:${remoteScriptFile} && ssh -o StrictHostKeyChecking=no ${USER_NAME}@${PUBLIC_IP} 'bash ./${remoteScriptFile}' && rm ${remoteScriptFile}"
                    sh remoteCommand // ì»¤ë§¨ë“œ ì‹¤í–‰
                            
                    }
                }
            }
        }  
    }
    post {
        success {
            script {
                def Author_ID = sh(script: "git show -s --pretty=%an", returnStdout: true).trim()
                def Author_Name = sh(script: "git show -s --pretty=%ae", returnStdout: true).trim()
                mattermostSend (color: 'good',
                message: ":white_check_mark: Success: ${env.JOB_NAME} #${env.BUILD_NUMBER} by ${Author_ID}(${Author_Name}\\n(<${env.BUILD_URL}|Details>)",
                endpoint: END_POINT,
                channel: CHANNEL
                )
            }
        }
        failure {
    	    script {
                def Author_ID = sh(script: "git show -s --pretty=%an", returnStdout: true).trim()
                def Author_Name = sh(script: "git show -s --pretty=%ae", returnStdout: true).trim()
                mattermostSend (color: 'danger',
                message: ":x: Failure: ${env.JOB_NAME} #${env.BUILD_NUMBER} by ${Author_ID}(${Author_Name})\\n(<${env.BUILD_URL}|Details>)",
                endpoint: END_POINT,
                channel: CHANNEL
                )
            }
        }
    }
}
```

#### Netflix Eureka
```
pipeline {
    agent any

    tools {
        jdk 'jdk-17'
        gradle 'gradle 8.2.1'
    }
    environment {
        // build info
        BACKEND_BUILD_PATH = '/var/jenkins_home/workspace/jenkins-eureka/backend-eureka' // jar íŒŒì¼ì„ ë¹Œë“œí•  ê²½ë¡œ
        JAR_FILE_NAME = 'server'

        // gitlab
        CLONE_URL = 'https://lab.ssafy.com/s09-bigdata-recom-sub2/S09P22D206'
        TARGET_BRANCH = 'eureka'
        GITLAB_CREDENTIAL = 'jenkins-login'
        
				// host machine info
        USER_NAME = 'ubuntu' // í˜¸ìŠ¤íŠ¸ ë¨¸ì‹ ì˜ ìœ ì €
        PUBLIC_IP = '172.26.3.182' // í˜¸ìŠ¤íŠ¸ ë¨¸ì‹ ì˜ ì™¸ë¶€ IP
        PORT_NUMBER = '8000' // ì»¨í…Œì´ë„ˆ ë‚´ë¶€ì˜ í¬íŠ¸ë²ˆí˜¸ì™€ ë§¤í•‘í•  host ë¨¸ì‹ ì˜ í¬íŠ¸ë²ˆí˜¸
        SSH_KEY = 'ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQDllP3eitSeEiauVucdYVgmIbdfLlUdM7j1xcPQgMPcB0kkqszg621iTlTllloA634A9u69vCcU64aaHgjeZ3uyL8qif+MLw/0AWEuHsBBS3XOo8FV7wn3po+v0M8wA5xjxPGLoDk+3SlEC8EbxuJhRZ9Cct53/e0AZPPtNgOIgZ096hjiSQI8JG7LZxY2GXpuwkthd3d/UwmOnACwp0oWe/9FhmGqJGD7le/molZkMHsTyeGHvkURZ6bjzU34N7wQVUGSMDtVaKL5F/P5Efs+atyIbyZfGd7l5pjHqB5h2Zrs0v6cdFVSJ1MPi1A28ke+mahhJehQIpxPmE4BFXsXIKch2K4VCwZm53pE9ZMKGCVOwvAtk8A6jK5wta20GHF2JfJT3GlYD8njUqQZd0cbGcBWgyVvb8VEJdlwI9DEwOvEjnavyX7T8D97cz7O8zstxbt7GeWvQvtgItGnMs6vgX5rXNKchihU0v0sYfcsjL6tGsD7m+G8G5jQ2mDiY4JU= ubuntu@ip-172-26-3-182'

        // docker info
        BACKEND_BUILD_IMAGE_NAME = 'pcgg-backend-eureka'
        TAG_NAME = 'latest'
        BACKEND_CONTAINER_NAME = 'backend-eureka'
        BACKEND_CONTAINER_PORT_NUMBER = 8761

        // mattermost info
        END_POINT = 'https://meeting.ssafy.com/hooks/mux5zm9a83878daynwqms8ddty'
        CHANNEL = '#gw--jenkins'
    }

    stages {

        stage('Prepare') { // ì €ì¥ì†Œë¡œë¶€í„° cloneí•˜ëŠ” ë‹¨ê³„
            steps {
                echo 'Cloning Repository'
                git credentialsId: GITLAB_CREDENTIAL,
                url: CLONE_URL,
                branch: TARGET_BRANCH
            }
            post {
                success {
                    echo 'Successfully Cloned Repository'
                }
                failure {
                    error 'This pipeline stops here...'
                }
            }
        }

        stage('Dowload application.yml') {
            steps {
                echo 'Download application.yml'
                withCredentials([file(credentialsId: 'secret-eureka', variable: 'SpringConfigFile')]) {
                    script {
                        sh '''
                        sudo cp $SpringConfigFile backend-eureka/src/main/resources/application.yml
                        '''
                    }
                }
            }
        }

        stage('Build') { // jar íŒŒì¼ì„ ë¹Œë“œí•˜ëŠ” ë‹¨ê³„ 
            steps {
                sh  '''
                    echo "Build eureka"
                    cd backend-eureka
                    sudo su
                    chmod +x gradlew
                    sudo ./gradlew clean build -x test

                '''
            }
            post {
                success {
                    echo 'Successfully Build Server'
                }
                failure {
                    error 'This pipeline stops here...'
                }
            }
        }

        stage('Send Build') { // Build íŒŒì¼ë“¤ì„ ìš°ë¶„íˆ¬(EC2)ë¡œ ì „ì†¡í•˜ëŠ” ë‹¨ê³„ 
            steps {
                sshPublisher(publishers: [sshPublisherDesc(configName: 'ubuntu', transfers: [sshTransfer(cleanRemote: false, excludes: '', execCommand: ' ', execTimeout: 120000, flatten: false, makeEmptyDirs: false, noDefaultExcludes: false, patternSeparator: '[, ]+', remoteDirectory: '/remote/backend-eureka/', remoteDirectorySDF: false, removePrefix: 'backend-eureka/build/libs', sourceFiles: 'backend-eureka/build/libs/pcgg-0.0.1-SNAPSHOT.jar')], usePromotionTimestamp: false, useWorkspaceInPromotion: false, verbose: false)])
            }
            
            post {
                success {
                    echo 'Successfully Send Build'
                }
                failure {
                    error 'This pipeline stops here...'
                }
            }
        }

        stage('Build Docker & Run') { // Dockerfileì„ ë¹Œë“œí•˜ì—¬ docker ì´ë¯¸ì§€ë¥¼ ìƒì„±í•˜ê³  ì‹¤í–‰í•˜ëŠ” ë‹¨ê³„
            steps {
                echo 'Build Docker'
                sshagent(credentials: ['ubuntu']) {
                    script {
                    // ìš°ë¶„íˆ¬(EC2)ì—ì„œ ì‹¤í–‰í•  command ìŠ¤í¬ë¦½íŠ¸
                    // 1. ë¹Œë“œ íŒŒì¼ ì „ì†¡
                    // 2. ë¹Œë“œ íŒŒì¼ì„ ì´ìš©í•´ Docker ì´ë¯¸ì§€ ìƒì„±
                    // 3. ìš°ë¶„íˆ¬(EC2)ì—ì„œ ì‹¤í–‰ì‹œí‚¬ ì»¨í…Œì´ë„ˆì˜ ì´ë¦„ê³¼ ë™ì¼í•œ ì»¨í…Œì´ë„ˆê°€ ìˆë‹¤ë©´ ê·¸ ì»¨í…Œì´ë„ˆë¥¼ ì¢…ë£Œí•˜ê³  ì‚­ì œ
                    // 4. Docker ì´ë¯¸ì§€ë¥¼ ì„¤ì •í•œ ì»¨í…Œì´ë„ˆì´ë¦„ìœ¼ë¡œ ì‹¤í–‰
                    def sshCommand = """
                        set -e
                        if sudo docker ps -a --filter name=${BACKEND_CONTAINER_NAME} | grep -q .; then
                            sudo docker stop ${BACKEND_CONTAINER_NAME} || true
                            sudo docker rm ${BACKEND_CONTAINER_NAME} || true
                            sudo docker rmi ${BACKEND_BUILD_IMAGE_NAME} || true

                        fi
                        cd remote/backend-eureka
                        sudo docker build -t ${BACKEND_BUILD_IMAGE_NAME} .
                        sudo docker run -d --name ${BACKEND_CONTAINER_NAME} -p ${BACKEND_CONTAINER_PORT_NUMBER}:${BACKEND_CONTAINER_PORT_NUMBER} ${BACKEND_BUILD_IMAGE_NAME}
                    """

                    def remoteScriptFile = 'remote_script.sh' // ìŠ¤í¬ë¦½íŠ¸ íŒŒì¼ ëª…
                    writeFile file: remoteScriptFile, text: sshCommand // ìŠ¤í¬ë¦½íŠ¸ íŒŒì¼ ìƒì„±
                    sh "chmod +x ${remoteScriptFile}" // ìŠ¤í¬ë¦½íŠ¸ íŒŒì¼ì— ì‹¤í–‰ ê¶Œí•œ ì£¼ê¸°

                    // ì›ê²©ì‹¤í–‰ ì»¤ë©˜ë“œ(scp : íŒŒì¼ì „ì†¡ í”„ë¡œí† ì½œ(ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì „ì†¡) & ssh : ë°°í¬ì„œë²„ì— ì›ê²©ìœ¼ë¡œ ì ‘ì†í•˜ê¸° ìœ„í•œ ëª…ë ¹ì–´ & sm : ìŠ¤í¬ë¦½íŠ¸ ì‚­ì œ ëª…ë ¹ì–´(ì¤‘ë³µ ì œê±°ë¥¼ ìœ„í•œ ëª…ë ¹ì–´))
                    def remoteCommand = "scp -o StrictHostKeyChecking=no ${remoteScriptFile} ${USER_NAME}@${PUBLIC_IP}:${remoteScriptFile} && ssh -o StrictHostKeyChecking=no ${USER_NAME}@${PUBLIC_IP} 'bash ./${remoteScriptFile}' && rm ${remoteScriptFile}"
                    sh remoteCommand // ì»¤ë§¨ë“œ ì‹¤í–‰
                            
                    }
                }
            }
        }  
    }
    post {
        success {
            script {
                def Author_ID = sh(script: "git show -s --pretty=%an", returnStdout: true).trim()
                def Author_Name = sh(script: "git show -s --pretty=%ae", returnStdout: true).trim()
                mattermostSend (color: 'good',
                message: ":white_check_mark: Success: ${env.JOB_NAME} #${env.BUILD_NUMBER} by ${Author_ID}(${Author_Name}\\n(<${env.BUILD_URL}|Details>)",
                endpoint: END_POINT,
                channel: CHANNEL
                )
            }
        }
        failure {
    	    script {
                def Author_ID = sh(script: "git show -s --pretty=%an", returnStdout: true).trim()
                def Author_Name = sh(script: "git show -s --pretty=%ae", returnStdout: true).trim()
                mattermostSend (color: 'danger',
                message: ":x: Failure: ${env.JOB_NAME} #${env.BUILD_NUMBER} by ${Author_ID}(${Author_Name})\\n(<${env.BUILD_URL}|Details>)",
                endpoint: END_POINT,
                channel: CHANNEL
                )
            }
        }
    }
}
```

#### FE | Vue.js
```
pipeline {
    agent any

    tools {
        nodejs 'nodejs 16.18.1'
    }
    environment {
        // build info
        FRONTEND_BUILD_PATH = '/var/jenkins_home/workspace/jenkins/frontend' // jar íŒŒì¼ì„ ë¹Œë“œí•  ê²½ë¡œ
        JAR_FILE_NAME = 'server'

        // gitlab
        CLONE_URL = 'https://lab.ssafy.com/s09-bigdata-recom-sub2/S09P22D206'
        TARGET_BRANCH = 'frontend'
        GITLAB_CREDENTIAL = 'jenkins-login'
        
				// host machine info
        USER_NAME = 'root' // í˜¸ìŠ¤íŠ¸ ë¨¸ì‹ ì˜ ìœ ì €
        PUBLIC_IP = '172.17.0.4' // í˜¸ìŠ¤íŠ¸ ë¨¸ì‹ ì˜ ì™¸ë¶€ IP
        PORT_NUMBER = '8000' // ì»¨í…Œì´ë„ˆ ë‚´ë¶€ì˜ í¬íŠ¸ë²ˆí˜¸ì™€ ë§¤í•‘í•  host ë¨¸ì‹ ì˜ í¬íŠ¸ë²ˆí˜¸
        SSH_KEY = 'ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQDllP3eitSeEiauVucdYVgmIbdfLlUdM7j1xcPQgMPcB0kkqszg621iTlTllloA634A9u69vCcU64aaHgjeZ3uyL8qif+MLw/0AWEuHsBBS3XOo8FV7wn3po+v0M8wA5xjxPGLoDk+3SlEC8EbxuJhRZ9Cct53/e0AZPPtNgOIgZ096hjiSQI8JG7LZxY2GXpuwkthd3d/UwmOnACwp0oWe/9FhmGqJGD7le/molZkMHsTyeGHvkURZ6bjzU34N7wQVUGSMDtVaKL5F/P5Efs+atyIbyZfGd7l5pjHqB5h2Zrs0v6cdFVSJ1MPi1A28ke+mahhJehQIpxPmE4BFXsXIKch2K4VCwZm53pE9ZMKGCVOwvAtk8A6jK5wta20GHF2JfJT3GlYD8njUqQZd0cbGcBWgyVvb8VEJdlwI9DEwOvEjnavyX7T8D97cz7O8zstxbt7GeWvQvtgItGnMs6vgX5rXNKchihU0v0sYfcsjL6tGsD7m+G8G5jQ2mDiY4JU= ubuntu@ip-172-26-3-182'

        // docker info
        BACKEND_BUILD_IMAGE_NAME = 'pcgg-frontend'
        TAG_NAME = 'latest'
        FRONTEND_CONTAINER_NAME = 'backend-frontend'
        FRONTEND_CONTAINER_PORT_NUMBER = 3000

        // mattermost info
        END_POINT = 'https://meeting.ssafy.com/hooks/mux5zm9a83878daynwqms8ddty'
        CHANNEL = '#fe--jenkins'
    }

    stages {

        stage('Prepare') { // ì €ì¥ì†Œë¡œë¶€í„° cloneí•˜ëŠ” ë‹¨ê³„
            steps {
                echo 'Cloning Repository'
                sh '''
                    sudo rm -r frontend
                '''
                git credentialsId: GITLAB_CREDENTIAL,
                url: CLONE_URL,
                branch: TARGET_BRANCH
            }
            post {
                success {
                    echo 'Successfully Cloned Repository'
                }
                failure {
                    error 'This pipeline stops here...'
                }
            }
        }

        stage('Download .env.production') { // .env.productionì„ downloadí•˜ëŠ” ë‹¨ê³„
            steps {
                echo 'Download .env.production'
                withCredentials([file(credentialsId: 'secret-vue', variable: 'VueConfigFile')]) {
                    script {
                        sh '''
                        sudo cp $VueConfigFile frontend/.env.production
                        '''
                    }
                }
            }
        }

        stage('Build') { // build íŒŒì¼ì„ ë¹Œë“œí•˜ëŠ” ë‹¨ê³„ 
            steps {
                sh  '''
                    echo "Build frontend"
                    cd frontend
                    sudo su
                    sudo rm -r /var/jenkins_home/workspace/build 
                    mkdir /var/jenkins_home/workspace/build
                    sudo npm install
                    sudo npm run build
                '''
            }
            post {
                success {
                    echo 'Successfully Build Server'
                }
                failure {
                    error 'This pipeline stops here...'
                }
            }
        }

        stage('Send Build') { // Build íŒŒì¼ë“¤ì„ ìš°ë¶„íˆ¬(EC2)ë¡œ ì „ì†¡í•˜ëŠ” ë‹¨ê³„ 
            steps {
                sshPublisher(publishers: [sshPublisherDesc(configName: 'nginx', transfers: [sshTransfer(cleanRemote: false, excludes: '', execCommand: ' ', execTimeout: 120000, flatten: false, makeEmptyDirs: false, noDefaultExcludes: false, patternSeparator: '[, ]+', remoteDirectory: '/', remoteDirectorySDF: false, removePrefix: 'frontend', sourceFiles: 'frontend/dist/**/*')], usePromotionTimestamp: false, useWorkspaceInPromotion: false, verbose: false)])
            }
            
            post {
                success {
                    echo 'Successfully Send Build'
                }
                failure {
                    error 'This pipeline stops here...'
                }
            }
        }
    }

    post {
        success {
            script {
                def Author_ID = sh(script: "git show -s --pretty=%an", returnStdout: true).trim()
                def Author_Name = sh(script: "git show -s --pretty=%ae", returnStdout: true).trim()
                mattermostSend (color: 'good',
                message: ":white_check_mark: Success: ${env.JOB_NAME} #${env.BUILD_NUMBER} by ${Author_ID}(${Author_Name}\\n(<${env.BUILD_URL}|Details>)",
                endpoint: END_POINT,
                channel: CHANNEL
                )
            }
        }
        failure {
    	    script {
                def Author_ID = sh(script: "git show -s --pretty=%an", returnStdout: true).trim()
                def Author_Name = sh(script: "git show -s --pretty=%ae", returnStdout: true).trim()
                mattermostSend (color: 'danger',
                message: ":x: Failure: ${env.JOB_NAME} #${env.BUILD_NUMBER} by ${Author_ID}(${Author_Name})\\n(<${env.BUILD_URL}|Details>)",
                endpoint: END_POINT,
                channel: CHANNEL
                )
            }
        }
    }
}
```

#### BE | Spring Boot 
```
pipeline {
    agent any

    tools {
        jdk 'jdk-17'
        gradle 'gradle 8.2.1'
        nodejs 'nodejs 16.18.1'
    }
    environment {
        // build info
        BACKEND_BUILD_PATH = '/var/jenkins_home/workspace/jenkins/backend-spring' // jar íŒŒì¼ì„ ë¹Œë“œí•  ê²½ë¡œ
        JAR_FILE_NAME = 'server'

        // gitlab
        CLONE_URL = 'https://lab.ssafy.com/s09-bigdata-recom-sub2/S09P22D206'
        TARGET_BRANCH = 'backend'
        GITLAB_CREDENTIAL = 'jenkins-login'
        
				// host machine info
        USER_NAME = 'ubuntu' // í˜¸ìŠ¤íŠ¸ ë¨¸ì‹ ì˜ ìœ ì €
        PUBLIC_IP = '172.26.3.182' // í˜¸ìŠ¤íŠ¸ ë¨¸ì‹ ì˜ ì™¸ë¶€ IP
        PORT_NUMBER = '8000' // ì»¨í…Œì´ë„ˆ ë‚´ë¶€ì˜ í¬íŠ¸ë²ˆí˜¸ì™€ ë§¤í•‘í•  host ë¨¸ì‹ ì˜ í¬íŠ¸ë²ˆí˜¸
        SSH_KEY = 'ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQDllP3eitSeEiauVucdYVgmIbdfLlUdM7j1xcPQgMPcB0kkqszg621iTlTllloA634A9u69vCcU64aaHgjeZ3uyL8qif+MLw/0AWEuHsBBS3XOo8FV7wn3po+v0M8wA5xjxPGLoDk+3SlEC8EbxuJhRZ9Cct53/e0AZPPtNgOIgZ096hjiSQI8JG7LZxY2GXpuwkthd3d/UwmOnACwp0oWe/9FhmGqJGD7le/molZkMHsTyeGHvkURZ6bjzU34N7wQVUGSMDtVaKL5F/P5Efs+atyIbyZfGd7l5pjHqB5h2Zrs0v6cdFVSJ1MPi1A28ke+mahhJehQIpxPmE4BFXsXIKch2K4VCwZm53pE9ZMKGCVOwvAtk8A6jK5wta20GHF2JfJT3GlYD8njUqQZd0cbGcBWgyVvb8VEJdlwI9DEwOvEjnavyX7T8D97cz7O8zstxbt7GeWvQvtgItGnMs6vgX5rXNKchihU0v0sYfcsjL6tGsD7m+G8G5jQ2mDiY4JU= ubuntu@ip-172-26-3-182'

        // docker info
        BACKEND_BUILD_IMAGE_NAME = 'pcgg-backend-spring'
        TAG_NAME = 'latest'
        BACKEND_CONTAINER_NAME = 'backend-spring'
        BACKEND_CONTAINER_PORT_NUMBER = 30000

        // mattermost info
        END_POINT = 'https://meeting.ssafy.com/hooks/mux5zm9a83878daynwqms8ddty'
        CHANNEL = '#be--jenkins'
    }

    stages {

        stage('Prepare') { // ì €ì¥ì†Œë¡œë¶€í„° cloneí•˜ëŠ” ë‹¨ê³„
            steps {
                echo 'Cloning Repository'
                git credentialsId: GITLAB_CREDENTIAL,
                url: CLONE_URL,
                branch: TARGET_BRANCH
            }
            post {
                success {
                    echo 'Successfully Cloned Repository'
                }
                failure {
                    error 'This pipeline stops here...'
                }
            }
        }

        stage('Dowload application.yml') {
            steps {
                echo 'Download application.yml'
                withCredentials([file(credentialsId: 'secret-id', variable: 'SpringConfigFile')]) {
                    script {
                        sh '''
                        sudo cp $SpringConfigFile backend-spring/src/main/resources/application.yml
                        '''
                    }
                }
            }
        }

        stage('Build') { // jar íŒŒì¼ì„ ë¹Œë“œí•˜ëŠ” ë‹¨ê³„ 
            steps {
                sh  '''
                    echo "Build backend"
                    cd backend-spring
                    sudo su
                    sudo rm -r /var/jenkins_home/workspace/build 
                    mkdir /var/jenkins_home/workspace/build
                    chmod +x gradlew
                    ./gradlew clean build -x test

                '''
            }
            post {
                success {
                    echo 'Successfully Build Server'
                }
                failure {
                    error 'This pipeline stops here...'
                }
            }
        }

        stage('Send Build') { // Build íŒŒì¼ë“¤ì„ ìš°ë¶„íˆ¬(EC2)ë¡œ ì „ì†¡í•˜ëŠ” ë‹¨ê³„ 
            steps {
                sshPublisher(publishers: [sshPublisherDesc(configName: 'ubuntu', transfers: [sshTransfer(cleanRemote: false, excludes: '', execCommand: ' ', execTimeout: 120000, flatten: false, makeEmptyDirs: false, noDefaultExcludes: false, patternSeparator: '[, ]+', remoteDirectory: '/remote/backend-spring/', remoteDirectorySDF: false, removePrefix: 'backend-spring/build/libs', sourceFiles: 'backend-spring/build/libs/pcgg-0.0.1-SNAPSHOT.jar')], usePromotionTimestamp: false, useWorkspaceInPromotion: false, verbose: false)])
            }
            
            post {
                success {
                    echo 'Successfully Send Build'
                }
                failure {
                    error 'This pipeline stops here...'
                }
            }
        }

        stage('Build Docker & Run') { // Dockerfileì„ ë¹Œë“œí•˜ì—¬ docker ì´ë¯¸ì§€ë¥¼ ìƒì„±í•˜ê³  ì‹¤í–‰í•˜ëŠ” ë‹¨ê³„
            steps {
                echo 'Build Docker'
                sshagent(credentials: ['ubuntu']) {
                    script {
                    // ìš°ë¶„íˆ¬(EC2)ì—ì„œ ì‹¤í–‰í•  command ìŠ¤í¬ë¦½íŠ¸
                    // 1. ë¹Œë“œ íŒŒì¼ ì „ì†¡
                    // 2. ë¹Œë“œ íŒŒì¼ì„ ì´ìš©í•´ Docker ì´ë¯¸ì§€ ìƒì„±
                    // 3. ìš°ë¶„íˆ¬(EC2)ì—ì„œ ì‹¤í–‰ì‹œí‚¬ ì»¨í…Œì´ë„ˆì˜ ì´ë¦„ê³¼ ë™ì¼í•œ ì»¨í…Œì´ë„ˆê°€ ìˆë‹¤ë©´ ê·¸ ì»¨í…Œì´ë„ˆë¥¼ ì¢…ë£Œí•˜ê³  ì‚­ì œ
                    // 4. Docker ì´ë¯¸ì§€ë¥¼ ì„¤ì •í•œ ì»¨í…Œì´ë„ˆì´ë¦„ìœ¼ë¡œ ì‹¤í–‰
                    def sshCommand = """
                        set -e
                        if sudo docker ps -a --filter name=${BACKEND_CONTAINER_NAME} | grep -q .; then
                            sudo docker stop ${BACKEND_CONTAINER_NAME} || true
                            sudo docker rm ${BACKEND_CONTAINER_NAME} || true
                            sudo docker rmi ${BACKEND_BUILD_IMAGE_NAME} || true

                        fi
                        cd remote/backend-spring
                        sudo docker build -t ${BACKEND_BUILD_IMAGE_NAME} .
                        sudo docker run -d --name ${BACKEND_CONTAINER_NAME} -p ${BACKEND_CONTAINER_PORT_NUMBER}:${BACKEND_CONTAINER_PORT_NUMBER} ${BACKEND_BUILD_IMAGE_NAME}
                    """

                    def remoteScriptFile = 'remote_script.sh' // ìŠ¤í¬ë¦½íŠ¸ íŒŒì¼ ëª…
                    writeFile file: remoteScriptFile, text: sshCommand // ìŠ¤í¬ë¦½íŠ¸ íŒŒì¼ ìƒì„±
                    sh "chmod +x ${remoteScriptFile}" // ìŠ¤í¬ë¦½íŠ¸ íŒŒì¼ì— ì‹¤í–‰ ê¶Œí•œ ì£¼ê¸°

                    // ì›ê²©ì‹¤í–‰ ì»¤ë©˜ë“œ(scp : íŒŒì¼ì „ì†¡ í”„ë¡œí† ì½œ(ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì „ì†¡) & ssh : ë°°í¬ì„œë²„ì— ì›ê²©ìœ¼ë¡œ ì ‘ì†í•˜ê¸° ìœ„í•œ ëª…ë ¹ì–´ & sm : ìŠ¤í¬ë¦½íŠ¸ ì‚­ì œ ëª…ë ¹ì–´(ì¤‘ë³µ ì œê±°ë¥¼ ìœ„í•œ ëª…ë ¹ì–´))
                    def remoteCommand = "scp -o StrictHostKeyChecking=no ${remoteScriptFile} ${USER_NAME}@${PUBLIC_IP}:${remoteScriptFile} && ssh -o StrictHostKeyChecking=no ${USER_NAME}@${PUBLIC_IP} 'bash ./${remoteScriptFile}' && rm ${remoteScriptFile}"
                    sh remoteCommand // ì»¤ë§¨ë“œ ì‹¤í–‰
                            
                    }
                }
            }
        }  
    }
    post {
        success {
            script {
                def Author_ID = sh(script: "git show -s --pretty=%an", returnStdout: true).trim()
                def Author_Name = sh(script: "git show -s --pretty=%ae", returnStdout: true).trim()
                mattermostSend (color: 'good',
                message: ":white_check_mark: Success: ${env.JOB_NAME} #${env.BUILD_NUMBER} by ${Author_ID}(${Author_Name}\\n(<${env.BUILD_URL}|Details>)",
                endpoint: END_POINT,
                channel: CHANNEL
                )
            }
        }
        failure {
    	    script {
                def Author_ID = sh(script: "git show -s --pretty=%an", returnStdout: true).trim()
                def Author_Name = sh(script: "git show -s --pretty=%ae", returnStdout: true).trim()
                mattermostSend (color: 'danger',
                message: ":x: Failure: ${env.JOB_NAME} #${env.BUILD_NUMBER} by ${Author_ID}(${Author_Name})\\n(<${env.BUILD_URL}|Details>)",
                endpoint: END_POINT,
                channel: CHANNEL
                )
            }
        }
    }
}
```

